<html lang="en">
<head>
<title>Other Changes - GNU MPFR 3.1.4</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="How to install and use GNU MPFR, a library for reliable multiple precision
floating-point arithmetic, version 3.1.4.">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="API-Compatibility.html#API-Compatibility" title="API Compatibility">
<link rel="prev" href="Removed-Functions.html#Removed-Functions" title="Removed Functions">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual documents how to install and use the Multiple Precision
Floating-Point Reliable Library, version 3.1.4.

Copyright 1991, 1993-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.2 or any later
version published by the Free Software Foundation; with no Invariant Sections,
with no Front-Cover Texts, and with no Back-Cover Texts.  A copy of the
license is included in *note GNU Free Documentation License::.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Other-Changes"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="Removed-Functions.html#Removed-Functions">Removed Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="API-Compatibility.html#API-Compatibility">API Compatibility</a>
<hr>
</div>

<h3 class="section">6.5 Other Changes</h3>

<!-- r6699 -->
<p>For users of a C++ compiler, the way how the availability of <code>intmax_t</code>
is detected has changed in MPFR 3.0. 
In MPFR 2.x, if a macro <code>INTMAX_C</code> or <code>UINTMAX_C</code> was defined
(e.g. when the <code>__STDC_CONSTANT_MACROS</code> macro had been defined
before <code>&lt;stdint.h&gt;</code> or <code>&lt;inttypes.h&gt;</code> has been included),
<code>intmax_t</code> was assumed to be defined. 
However this was not always the case (more precisely, <code>intmax_t</code>
can be defined only in the namespace <code>std</code>, as with Boost), so
that compilations could fail. 
Thus the check for <code>INTMAX_C</code> or <code>UINTMAX_C</code> is now disabled for
C++ compilers, with the following consequences:

     <ul>
<li>Programs written for MPFR 2.x that need <code>intmax_t</code> may no longer
be compiled against MPFR 3.0: a <code>#define MPFR_USE_INTMAX_T</code> may be
necessary before <samp><span class="file">mpfr.h</span></samp> is included.

     <li>The compilation of programs that work with MPFR 3.0 may fail with
MPFR 2.x due to the problem described above.  Workarounds are possible,
such as defining <code>intmax_t</code> and <code>uintmax_t</code> in the global
namespace, though this is not clean.

   </ul>

   <p>The divide-by-zero exception is new in MPFR 3.1. However it should
not introduce incompatible changes for programs that strictly follow
the MPFR API since the exception can only be seen via new functions.

   <p>As of MPFR 3.1, the <samp><span class="file">mpfr.h</span></samp> header can be included several times,
while still supporting optional functions (see <a href="Headers-and-Libraries.html#Headers-and-Libraries">Headers and Libraries</a>).

   </body></html>

