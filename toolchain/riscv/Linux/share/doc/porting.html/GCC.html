<html lang="en">
<head>
<title>GCC - Embed with GNU</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Embed with GNU">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="prev" href="Libgloss.html#Libgloss" title="Libgloss">
<link rel="next" href="Libraries.html#Libraries" title="Libraries">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="GCC"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Libraries.html#Libraries">Libraries</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Libgloss.html#Libgloss">Libgloss</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="index.html#Top">Top</a>
<hr>
</div>

<h2 class="chapter">2 Porting GCC</h2>

<p>Porting GCC requires two things, neither of which has anything to do
with GCC. If GCC already supports a processor type, then all the work in
porting GCC is really a linker issue. All GCC has to do is produce
assembler output in the proper syntax. Most of the work is done by the
linker, which is described elsewhere.

   <p>Mostly all GCC does is format the command line for the linker pass. The
command line for GCC is set in the various config subdirectories of gcc. 
The options of interest to us are <code>CPP_SPEC</code> and
<code>STARTFILE_SPEC</code>. CPP_SPEC sets the builtin defines for your
environment. If you support multiple environments with the same
processor, then OS specific defines will need to be elsewhere. 
<!-- FIXME: Check these names -->

   <p><code>STARTFILE_SPEC</code>

   <p>Once you have linker support, GCC will be able to produce a fully linked
executable image. The only <em>part</em> of GCC that the linker wants is a
crt0.o, and a memory map. If you plan on running any programs that do
I/O of any kind, you'll need to write support for the C library, which
is described elsewhere.

<ul class="menu">
<li><a accesskey="1" href="Overview.html#Overview">Overview</a>:             An overview as to the compilation passes. 
<li><a accesskey="2" href="Options.html#Options">Options</a>:              Useful GCC options for embedded systems. 
</ul>

   </body></html>

